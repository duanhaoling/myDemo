<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/jquery.mobile-1.1.1.min.css"/>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.mobile-1.1.1.min.js"></script>
    <script type="text/javascript">
    var result = JavaScriptInterface.jsontohtml();
    var obj = eval("("+result+")");//解析json字符串

    function showAndroidToast(toast)
    {
        JavaScriptInterface.showToast(toast);
    }
    function getjsonData(){
        var result = JavaScriptInterface.jsontohtml();
        var obj = eval("("+result+")");//解析json字符串
        for(i=0;i<obj.length;i++){
            var user=obj[i];
            document.write("<p>Name:"+user.name+"</p>");
            document.write("<p>Age:"+user.age+"</p>");
            document.write("<p>Address:"+user.address+"</p>");
            if(user.phone!=null){
                document.write("<p>PhoneNum:"+user.address+"</p>");
            }
        }
        showAndroidToast(result);
    }
    function list(){
        document.write("<div data-role='header'><p>another</p></div>");
    }
    function changeColor(color){
        document.body.style.backgroundColor = color ;
    }

    function getSafePayParam(){
        return "hello,java,I am from JS";
    }

    </script>
</head>

<body>
<div data-role="page">
    <div data-role="header" data-theme="c">
        <h1 onclick="window.demo.onJsCallAndroid()">Android via Interface</h1>
    </div><!-- /header -->

    <div data-role="collapsible" data-theme="c" data-content-theme="f">
        <h3 onclick="window.demo.callAndroidMethod(100,100,'ccc',true)">I'm
            <script>document.write(obj[0].name);</script>
            ,click to see my info
        </h3>
        <p>
            <script>document.write("<p>name:"+obj[0].name+"</p>");</script>
        </p>
        <p>
            <script>document.write("<p>age:"+obj[0].age+"</p>");</script>
        </p>
        <p>
            <script>document.write("<p>address:"+obj[0].address+"</p>");</script>
        </p>
    </div>
    <div data-role="collapsible" data-theme="c" data-content-theme="f">
        <h1 onclick="window.demo.setJsonParamFromJS(getSafePayParam())">window.demo.setJsonParamFromJS</h1>
        <a href="getJsonParams://jdalfaflsll">click to get jsonString from JS</a>
    </div>



    <div data-role="content">


        <h2 value="say hello" onclick="showAndroidToast('Hello,Android!')" data-theme="e">say
            hello</h2>
        <button value="get json data" onclick="getjsonData()" data-theme="e">get json data</button>
    </div><!-- /content -->


    <!--url拦截-->
    <div data-role="footer" data-theme="c">
        <a href="call-app-method://clickShareButton?title='title'&description='description'&imageUrl='xxx'&webpageUrl='www.baidu.com'">click
            to share</a>
        <h4 onclick="changeColor('#00ffee')">Page Footer</h4>
    </div><!-- /footer -->
</div><!-- /page -->

</body>
</html>